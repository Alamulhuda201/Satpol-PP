{{ define "main" }}
<div class="main-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <ul class="sidebar-menu">
      <li><a href="#profil" class="menu-link" data-scroll>Profil Singkat</a></li>
      <li><a href="#tugas" class="menu-link" data-scroll>Tugas PPID</a></li>
      <li><a href="#fungsi" class="menu-link" data-scroll>Fungsi PPID</a></li>
      <li><a href="{{ .Params.link_struktur }}" target="_blank" class="menu-link">Struktur PPID Satpol PP Prov. Kalbar</a></li>
    </ul>
  </aside>

  <!-- Main Content -->
  <div class="content">
    <!-- Profil Section -->
    <div class="container" id="profil">
      <h1 class="title">{{ .Title }}</h1>
      <div class="description">
        {{ .Content }}
      </div>
    </div>

    <!-- Tugas Section -->
    <div class="container" id="tugas">
      <h2 class="section-title">Tugas PPID:</h2>
      <ul class="task-list">
        {{ range .Params.tugas }}
        <li>{{ . }}</li>
        {{ end }}
      </ul>
    </div>

    <!-- Fungsi Section -->
    <div class="container" id="fungsi">
      <h2 class="section-title">Fungsi PPID:</h2>
      <ul class="function-list">
        {{ range .Params.fungsi }}
        <li>{{ . }}</li>
        {{ end }}
      </ul>
    </div>
  </div>
</div>

<!-- Styling -->
<style>
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 120px; /* Menambahkan padding atas untuk scroll */
  }

  .main-container {
    display: flex;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    gap: 30px;
  }

  .sidebar {
    width: 25%;
    position: sticky;
    top: 20px;
    height: fit-content;
    background: #F7FAFC;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  .sidebar:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }

  .sidebar-menu {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .sidebar-menu li {
    margin-bottom: 15px;
  }

  .menu-link {
    display: block;
    text-decoration: none;
    color: #2C5282;
    font-weight: 600;
    padding: 10px 15px;
    border-radius: 8px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    background: transparent;
  }

  .menu-link:before {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    height: 2px;
    width: 0;
    background: #4299E1;
    transition: width 0.3s ease;
  }

  .menu-link:hover {
    color: #4299E1;
    background: rgba(66, 153, 225, 0.1);
    padding-left: 20px;
  }

  .menu-link:hover:before {
    width: 100%;
  }

  .content {
    width: 75%;
  }


  .title {
    color: #2C5282;
    font-size: 2em;
    margin-bottom: 20px;
  }

  .section-title {
    color: #2D3748;
    font-size: 1.5em;
    margin: 30px 0 15px;
    border-bottom: 2px solid #4299E1;
    padding-bottom: 8px;
  }

  .task-list, .function-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .task-list li, .function-list li {
    position: relative;
    padding-left: 25px;
    margin-bottom: 12px;
  }

  .task-list li:before, .function-list li:before {
    content: "â€¢";
    color: #4299E1;
    position: absolute;
    left: 0;
  }

  section {
    scroll-margin-top: 2rem;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Add smooth scrolling to menu links
  document.querySelectorAll('a[data-scroll]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetElement = document.querySelector(targetId);
      const offset = 120; // Offset yang sama dengan scroll-padding-top
      
      if (targetElement) {
        const elementPosition = targetElement.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - offset;
        
        window.scrollTo({
          top: offsetPosition,
          behavior: 'smooth'
        });
      }
    });
  });
});
</script>
{{ end }}
